<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="1.1" DspName="Microsoft.Data.Schema.Sql.Sql90DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False">
	<Header>
		<CustomData Category="ModelCapability">
			<Metadata Name="ModelCapability" Value="Default" />
		</CustomData>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="90" />
		</CustomData>
		<CustomData Category="Permissions" Type="XmlPermissions">
			<Metadata Name="FileName" Value="E:\MUTHUKRISHNAN\PROJECTS\WEI\WEI\SOURCE-012013\WEIDB\PROPERTIES\DATABASE.SQLPERMISSIONS" />
		</CustomData>
	</Header>
	<Model>
		<Element Type="ISql90DatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ObjectType]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ObjectType].[CreateDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="2" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(suser_sname())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ObjectType]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ObjectType].[CreateOper]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="3" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ObjectType]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ObjectType].[LastModifiedDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(suser_sname())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ObjectType]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ObjectType].[LastOper]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Options]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Options].[CreateDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(suser_sname())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Options]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Options].[CreateOper]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Options]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Options].[LastModifiedDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(suser_sname())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Options]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Options].[LastOper]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="ISql90Route" Name="[AutoCreatedLocal]">
			<Property Name="Address" Value="LOCAL" />
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[Audit]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Audit].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Audit].[RequestId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Audit].[Level]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Audit].[Status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Audit].[Message]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Audit].[CreatedDateTime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Audit].[CreatedOper]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Index" Name="[dbo].[Audit].[IX_Audit_RequestId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Audit].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Audit_CreatedDateTime]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Audit].[CreatedDateTime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_OfacResponses_CreatedDateTime]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OfacResponses]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[OfacResponses].[CreatedDateTime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Requests_CreatedDateTime]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Requests_hasctc]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Requests].[HasCTC]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Requests_iserror]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Status_ShowStatus]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Status]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Status].[ShowStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Translations_Approved]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Translations]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Translations].[Approved]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Translations_Review]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Translations]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Translations].[Reviewed]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[Drivers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Drivers].[ID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Drivers].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Drivers].[DLL]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Drivers].[Type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Drivers].[Config]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Audit_RequestId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Audit].[RequestId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Audit_Status]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Audit].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Audit].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Interfaces_Handler]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Interfaces].[Handler]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Interfaces]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Handlers].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Handlers]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_OfacResponses_RequestId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OfacResponses].[RequestId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OfacResponses]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Requests_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[Handlers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Handlers].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Handlers].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Handlers].[DLL]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Handlers].[Type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[Interfaces]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Interfaces].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Interfaces].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Interfaces].[Handler]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Interfaces].[Driver]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Interfaces].[FileFormat]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Interfaces].[Config]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[ObjectType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[ObjectType].[Code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[ObjectType].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[ObjectType].[TableName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[ObjectType].[CreateDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="2" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[ObjectType].[CreateOper]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="3" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[ObjectType].[LastModifiedDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[ObjectType].[LastOper]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="5" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[OfacResponses]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[OfacResponses].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[OfacResponses].[RequestId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[OfacResponses].[ResponseBody]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[OfacResponses].[Identifier]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[OfacResponses].[CreatedDateTime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[OfacResponses].[CreatedOper]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[Options]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Options].[Code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Options].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Options].[Enabled]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Options].[CreateDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="6" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Options].[CreateOper]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Options].[LastModifiedDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="8" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Options].[LastOper]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="9" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK__OfacResponses__014935CB]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OfacResponses].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OfacResponses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK_Audit_ID]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Audit].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK_Drivers_Id]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Drivers].[ID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Drivers]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK_Handlers_Id]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Handlers].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Handlers]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK_Interfaces_Id]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Interfaces].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Interfaces]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK_ObjectType_Code]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ObjectType].[Code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ObjectType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK_Options_Code]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Options].[Code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Options]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK_Requests__Id]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Requests].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90PrimaryKeyConstraint" Name="[dbo].[PK_Status_ID]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Status].[ID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Status]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[Requests]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[RequestHeaders]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[InterfaceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[MessageBody]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[Status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[IsError]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[OFACStatus]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[HasCTC]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[ProcessLock]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[TranslatedMessage]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[ResponseMessage]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[CreatedDateTime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[CreatedOper]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[ModifiedDateTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Requests].[ModifiedOper]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Index" Name="[dbo].[Requests].[IX_Requests_CreatedDatetime]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Requests].[CreatedDateTime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[Status]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Status].[ID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smallint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Status].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Status].[DisplayName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Status].[ShowStatus]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Table" Name="[dbo].[Translations]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[ID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[CTCCode]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[ChineseChar]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[PinYin]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[OldTrans]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="5000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[NewTrans]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="5000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[CreateDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[Reviewed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[ReviewOper]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[ReviewDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[Approved]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[ApprovedOper]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSimpleColumn" Name="[dbo].[Translations].[ApprovedDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Index" Name="[dbo].[Translations].[IX_Translations]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Translations].[ID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Translations]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90UniqueConstraint" Name="[dbo].[UQ_ObjectType_Description]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ObjectType].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ObjectType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90UniqueConstraint" Name="[dbo].[UQ_Options_Description]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Options].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Options]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90UniqueConstraint" Name="[dbo].[UQ_Status_Description]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Status].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Status]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_AddAudit]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
/* Stored Procedure Wei_AddAudit
		
		@RequestId --
		@AuditLevel --
		@Message --
		@CreatedOper --
	   
		History:
	   Modified Date		Author		Change
	   
*/
	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
	
	SET NOCOUNT ON
	
	SELECT @ErrorMsg = 'Insert into Audit table failed', @TableName = 'Requests'
	
	BEGIN TRY
		BEGIN TRANSACTION Wei_AddAudit
		DECLARE @Status INT
		SELECT @Status=[Status] FROM Requests WHERE id=@requestId

		INSERT INTO [Audit] 
		(
			RequestId, 
			[Status],
			[Level], 
			[Message], 
			CreatedOper, 
			CreatedDatetime
		)
		VALUES 
		(
			@RequestId, 
			@Status, 
			@AuditLevel, 
			@Message, 
			@CreatedOper, 
			GETDATE()
		)
		COMMIT TRANSACTION Wei_AddAudit
	END TRY
	BEGIN CATCH
		SELECT @ErrorMsg = @ErrorMsg + ' - ' + ERROR_MESSAGE()
		ROLLBACK TRANSACTION Wei_AddAudit
		RAISERROR (@ErrorMsg,16,1)
	END CATCH
	RETURN 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAudit].[@RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAudit].[@RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAudit].[@AuditLevel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAudit].[@Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAudit].[@CreatedOper]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddAudit].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddAudit].[@AuditLevel]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddAudit].[@Message]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddAudit].[@CreatedOper]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['dbo']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1088" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_AddAudit]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestId   INT,&#xD;&#xA;&#x9;@AuditLevel&#x9; INT,&#xD;&#xA;&#x9;@Message&#x9; NVARCHAR(MAX),&#xD;&#xA;&#x9;@CreatedOper VARCHAR(255) = 'dbo'&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_AddAuditForErrorProcess]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
/* Stored Procedure Wei_AddAudit
		
		@RequestId --
		@AuditLevel --
		@Message --
		@CreatedOper --
	   
		History:
	   Modified Date		Author		Change
	   
*/
	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
	
	/*SET NOCOUNT ON*/
	
	SELECT @ErrorMsg = 'Insert into Audit table failed', @TableName = 'Audit'
	
	BEGIN TRY
		BEGIN TRANSACTION Wei_AddAuditForErrorProcess
		DECLARE @Status INT
		SELECT @Status=[Status] FROM Requests WHERE id=@requestId

		INSERT INTO [Audit] 
		(
			RequestId, 
			[Status],
			[Level], 
			[Message], 
			CreatedOper, 
			CreatedDatetime
		)
		VALUES 
		(
			@RequestId, 
			@Status, 
			1, 
			'Error message released for processing by user ''' + @CreatedOper + '''', 
			@CreatedOper, 
			GETDATE()
		)
		COMMIT TRANSACTION Wei_AddAuditForErrorProcess
	END TRY
	BEGIN CATCH
		SELECT @ErrorMsg = @ErrorMsg + ' - ' + ERROR_MESSAGE()
		ROLLBACK TRANSACTION Wei_AddAuditForErrorProcess
		RAISERROR (@ErrorMsg,16,1)
	END CATCH]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAuditForErrorProcess].[@RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAuditForErrorProcess].[@RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAuditForErrorProcess].[@CreatedOper]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddAuditForErrorProcess].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddAuditForErrorProcess].[@CreatedOper]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['dbo']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1144" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_AddAuditForErrorProcess]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestId   INT,&#xD;&#xA;&#x9;@CreatedOper VARCHAR(20) = 'dbo'&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_AddAuditForReview]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
/* Stored Procedure Wei_AddAudit
		
		@RequestId --
		@AuditLevel --
		@Message --
		@CreatedOper --
	   
		History:
	   Modified Date		Author		Change
	   
*/
	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
	
	/*SET NOCOUNT ON*/
	
	SELECT @ErrorMsg = 'Insert into Audit table failed', @TableName = 'Audit'
	
	BEGIN TRY
		BEGIN TRANSACTION Wei_AddAuditForReview
		DECLARE @Status INT
		SELECT @Status=[Status] FROM Requests WHERE id=@requestId

		INSERT INTO [Audit] 
		(
			RequestId, 
			[Status],
			[Level], 
			[Message], 
			CreatedOper, 
			CreatedDatetime
		)
		VALUES 
		(
			@RequestId, 
			@Status, 
			1, 
			'Message released for OFAC Check by user ''' + @CreatedOper + '''', 
			@CreatedOper, 
			GETDATE()
		)
		COMMIT TRANSACTION Wei_AddAuditForReview
	END TRY
	BEGIN CATCH
		SELECT @ErrorMsg = @ErrorMsg + ' - ' + ERROR_MESSAGE()
		ROLLBACK TRANSACTION Wei_AddAuditForReview
		RAISERROR (@ErrorMsg,16,1)
	END CATCH]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAuditForReview].[@RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAuditForReview].[@RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAuditForReview].[@CreatedOper]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddAuditForReview].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddAuditForReview].[@CreatedOper]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['dbo']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1114" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_AddAuditForReview]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestId   INT,&#xD;&#xA;&#x9;@CreatedOper VARCHAR(20) = 'dbo'&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_AddOfacResponse]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
/* Stored Procedure Wei_AddOfacResponse
		
		@RequestId		-- 
		@ResponseBody	--
		@Identifier		--
		@CreatedOper	--
	   
		History:
	   Modified Date		Author		Change
	   
*/
	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
			
	SET NOCOUNT ON
	SELECT @ErrorMsg = 'Insert into OFACResponse table failed', @TableName = 'OFACResponse'
	
	BEGIN TRY
		BEGIN TRANSACTION Wei_AddOfacResponse
		INSERT INTO OfacResponses 
		(
			RequestId, 
			ResponseBody , 
			Identifier, 
			CreatedDatetime , 
			CreatedOper
		)
		VALUES 
		(
			@RequestId, 
			@ResponseBody, 
			@Identifier, 
			GETDATE(), 
			@CreatedOper
		)
		COMMIT TRANSACTION Wei_AddOfacResponse
	END TRY
	BEGIN CATCH
		SELECT @ErrorMsg = @ErrorMsg + ' - ' + ERROR_MESSAGE()
		ROLLBACK TRANSACTION Wei_AddOfacResponse
		RAISERROR (@ErrorMsg,16,1)
	END CATCH
	RETURN 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OfacResponses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OfacResponses].[RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OfacResponses].[ResponseBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OfacResponses].[Identifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OfacResponses].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OfacResponses].[CreatedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddOfacResponse].[@RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddOfacResponse].[@ResponseBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddOfacResponse].[@Identifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddOfacResponse].[@CreatedOper]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddOfacResponse].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddOfacResponse].[@ResponseBody]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddOfacResponse].[@Identifier]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddOfacResponse].[@CreatedOper]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['dbo']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1061" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_AddOfacResponse]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestId&#x9;&#x9;INT, &#xD;&#xA;&#x9;@ResponseBody&#x9;NVARCHAR(MAX),&#xD;&#xA;&#x9;@Identifier&#x9;&#x9;VARCHAR(255),&#xD;&#xA;&#x9;@CreatedOper&#x9;VARCHAR(255) = 'dbo'&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_AddRequest]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[

	/* Stored Procedure Add_Request
		
	   @Name 			-- 
	   @InterfaceID	    --  
	   @RequestHeadr   -- 
	   @MessageBody		-- 
	   @Status		    -- 
	   @IsError         -- 
	   @CreatedOper		-- 
	   
		History:
	   Modified Date		Author		Change
	   
	  */

	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
			
	--- ********************* Begin Rule Procedure **********************************
	SET NOCOUNT ON
	

	BEGIN TRY
		BEGIN TRANSACTION Wei_AddRequest
	
		SELECT @ErrorMsg = 'Insert into Requests table failed', @TableName = 'Requests'
		INSERT INTO [Requests]
           (
				[Name],
				[InterfaceID],
				[RequestHeaders],
				[MessageBody],
				[Status],
				[IsError],
				[HasCTC],
				[OFACStatus],
				[ProcessLock],
				[CreatedDatetime],
				[CreatedOper])
		VALUES 
			(
				@Name,
				@InterfaceId,
				@RequestHeader,
				@MessageBody,
				@Status,
				@IsError,
				0,
				1,
				0,
				GETDATE(),
				'dbo'
			)
		COMMIT TRANSACTION Wei_AddRequest
		SELECT @@IDENTITY	
	END TRY
	BEGIN CATCH
		ROLLBACK TRANSACTION Wei_AddRequest
		RAISERROR (@ErrorMsg,16,1)
		
	END CATCH
	--RETURN @@IDENTITY	]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[InterfaceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[RequestHeaders]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ProcessLock]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddRequest].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddRequest].[@InterfaceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddRequest].[@RequestHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddRequest].[@MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddRequest].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddRequest].[@IsError]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddRequest].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddRequest].[@InterfaceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddRequest].[@RequestHeader]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddRequest].[@MessageBody]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddRequest].[@Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddRequest].[@IsError]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddRequest].[@CreatedOper]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['dbo']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1429" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_AddRequest]&#xD;&#xA;(&#xD;&#xA;&#x9;@Name&#x9;&#x9;&#x9;NVARCHAR(255),&#xD;&#xA;&#x9;@InterfaceId&#x9;INT,&#xD;&#xA;&#x9;@RequestHeader&#x9;NVARCHAR(MAX),&#xD;&#xA;&#x9;@MessageBody&#x9;NVARCHAR(MAX),&#xD;&#xA;&#x9;@Status&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@IsError&#x9;&#x9;INT,&#xD;&#xA;&#x9;@CreatedOper&#x9;VARCHAR(255) = 'dbo'&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_AddResponseMessage]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[

/* Stored Procedure Wei_AddOfacResponseMessage
		
		@RequestId  --
		@ResponseMessage -- 
		@Status -- 
		@IsError --
		@ModifiedOper --
	   
		History:
		Modified Date		Author		Change
	   
*/
	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
			
	SET NOCOUNT ON
	SELECT @ErrorMsg = 'Update to ResponseMessage Column on Requests table failed', @TableName = 'Requests'
	
	BEGIN TRY
		BEGIN TRANSACTION Wei_AddOfacResponseMessage
		
		UPDATE	Requests 
		SET		ResponseMessage=@ResponseMessage, 
				[Status]=@Status, 
				iserror=@IsError,
				ModifiedDatetime=GETDATE(), 
				ModifiedOper=@modifiedoper 
		WHERE	ID=@RequestId
		
		COMMIT TRANSACTION Wei_AddOfacResponseMessage
	END TRY
	
	BEGIN CATCH
		ROLLBACK TRANSACTION Wei_AddOfacResponseMessage
		RAISERROR (@ErrorMsg,16,1)
	END CATCH]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddResponseMessage].[@ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddResponseMessage].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddResponseMessage].[@IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddResponseMessage].[@ModifiedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddResponseMessage].[@RequestId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddResponseMessage].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddResponseMessage].[@ResponseMessage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddResponseMessage].[@Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddResponseMessage].[@IsError]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddResponseMessage].[@ModifiedOper]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['dbo']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1031" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_AddResponseMessage]&#xD;&#xA;&#x9;@RequestId&#x9;&#x9;&#x9;INT, &#xD;&#xA;&#x9;@ResponseMessage&#x9;NVARCHAR(MAX),&#xD;&#xA;&#x9;@Status&#x9;&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@IsError&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@ModifiedOper&#x9;&#x9;VARCHAR(255) = 'dbo'&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_AddTranslatedMessage]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	/* Stored Procedure Wei_AddTranslatedMessage
		
		@RequestId --
		@TranslatedMessage --
		@Status --
		@IsError --
		@HasCTC --
		@ModifiedOper --
	   
		History:
		Modified Date		Author		Change
	   
	  */
	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
	--- ********************* Begin Rule Procedure **********************************
	SET NOCOUNT ON
	
	SELECT @ErrorMsg = 'Update to Requests table failed', @TableName = 'Requests'
	BEGIN TRY
	
		BEGIN TRAN Wei_AddTranslatedMessage
	
		UPDATE	Requests 
		SET		TranslatedMessage=@TranslatedMessage, 
				[Status]=@Status, 
				IsError=@IsError,
				HasCTC=@HasCTC,
				ModifiedDatetime=GETDATE(), 
				ModifiedOper=@ModifiedOper 
		WHERE	ID=@RequestId
		COMMIT TRANSACTION Wei_AddTranslatedMessage
	END TRY
	
	BEGIN CATCH
		ROLLBACK TRAN Wei_AddTranslatedMessage
		RAISERROR (@ErrorMsg,16,1)
	END	CATCH
	RETURN 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddTranslatedMessage].[@TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddTranslatedMessage].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddTranslatedMessage].[@IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddTranslatedMessage].[@HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddTranslatedMessage].[@ModifiedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddTranslatedMessage].[@RequestId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddTranslatedMessage].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddTranslatedMessage].[@TranslatedMessage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddTranslatedMessage].[@Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddTranslatedMessage].[@IsError]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddTranslatedMessage].[@HasCTC]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_AddTranslatedMessage].[@ModifiedOper]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['dbo']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1139" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_AddTranslatedMessage]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestId&#x9;&#x9;&#x9;INT, &#xD;&#xA;&#x9;@TranslatedMessage&#x9;NVARCHAR(MAX),&#xD;&#xA;&#x9;@Status&#x9;&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@IsError&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@HasCTC&#x9;&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@ModifiedOper&#x9;&#x9;VARCHAR(255) = 'dbo'&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[WEI_AddTranslation]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	/* Stored Procedure Wei_AddTranslation
		
		@CTCCode	-- Chinese Translation Code
		@ChineseChar	-- Corresponding Chinese Characters based on the CTC Codes
		@EnglishTrans -- English translation returned from the translation provider
	   
		History:
	   Modified Date		Author		Change
	   
*/
	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)

	SET NOCOUNT ON 
	SELECT @ErrorMsg = 'Insert into Translations table failed', @TableName = 'Translations'

	BEGIN TRY
		BEGIN TRANSACTION Wei_AddTranslation

		INSERT INTO Translations
		(
			CTCCode,
			ChineseChar,
			OldTrans,
			CreateDate

		)
		VALUES
		(
			@CTCCode,
			@ChineseChar,
			@EnglishTrans,
			GETDATE()
		)

		INSERT INTO Audit
		(Level, Status,Message, CreatedDateTime)
		VALUES (1,1,'CTC Code: ' + @CTCCode + 'Chinese :' + @ChineseChar + 'English :' + @EnglishTrans, GETDATE())

		COMMIT TRANSACTION Wei_AddTranslation
	END TRY
	BEGIN CATCH
		SELECT @ErrorMsg = @ErrorMsg + ' - ' + ERROR_MESSAGE()
		ROLLBACK TRANSACTION Wei_AddTranslation
		RAISERROR (@ErrorMsg,16,1)
	END CATCH
	RETURN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[CTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ChineseChar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[OldTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_AddTranslation].[@CTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_AddTranslation].[@ChineseChar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_AddTranslation].[@EnglishTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedDateTime]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_AddTranslation].[@CTCCode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_AddTranslation].[@ChineseChar]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_AddTranslation].[@PinYin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_AddTranslation].[@EnglishTrans]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="5000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1291" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.WEI_AddTranslation&#xD;&#xA;(&#xD;&#xA;&#x9;@CTCCode&#x9;&#x9;NVARCHAR(2000),&#xD;&#xA;&#x9;@ChineseChar&#x9;NVARCHAR(2000),&#xD;&#xA;&#x9;@PinYin&#x9;&#x9;&#x9;NVARCHAR(2000),&#xD;&#xA;&#x9;@EnglishTrans&#x9;VARCHAR(5000)&#xD;&#xA;)&#xD;&#xA;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_ChangeStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
/* Stored Procedure Wei_ChangeStatus
		
		@RequestId --
		@Status --
		@IsError --
		@OfacStatus --
		@ModifiedOper --
	   
		History:
	   Modified Date		Author		Change
	   
*/
	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
	--- ********************* Begin Rule Procedure **********************************
	SET NOCOUNT ON
	
	SELECT @ErrorMsg = 'Update to Status column on Requests table failed', @TableName = 'Requests'
	BEGIN TRY
		BEGIN TRAN Wei_ChangeStatus
	
		UPDATE	Requests 
		SET		[Status] =@Status, 
				IsError=@IsError, 
				OfacStatus=@OfacStatus,
				ModifiedDatetime=GETDATE(), 
				ModifiedOper=@ModifiedOper 
		WHERE	Id=@Requestid
		
		COMMIT TRANSACTION Wei_ChangeStatus
	END TRY
	BEGIN CATCH
		ROLLBACK TRANSACTION Wei_ChangeStatus
		RAISERROR (@ErrorMsg,16,1)
	END CATCH


END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_ChangeStatus].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_ChangeStatus].[@IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_ChangeStatus].[@OfacStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_ChangeStatus].[@ModifiedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_ChangeStatus].[@RequestId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_ChangeStatus].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_ChangeStatus].[@Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_ChangeStatus].[@IsError]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_ChangeStatus].[@OfacStatus]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_ChangeStatus].[@ModifiedOper]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA['dbo']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1031" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_ChangeStatus]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestId&#x9;&#x9;INT, &#xD;&#xA;&#x9;@Status&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@IsError&#x9;&#x9;INT,&#xD;&#xA;&#x9;@OfacStatus&#x9;&#x9;INT,&#xD;&#xA;&#x9;@ModifiedOper&#x9;VARCHAR(255) = 'dbo'&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetAuditMessages]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT * from Audit where  requestId = @requestId
	order by createddatetime]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetAuditMessages].[@requestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedDateTime]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetAuditMessages].[@requestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="145" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetAuditMessages]&#xD;&#xA;&#x9;@requestId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetAuditMessagesByRequest]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
/*
	Stored Procedure Name: Wei_GetAuditMessagesByRequest
	Author:Rama Pappu
	Create Date: 01/04/2010
	Description: The Stored Procedure will return all the audit details for a particular request.
	parameters:
	@RequestID - Request ID associated with a message
	History:
	Modified Date		Author		Change

*/

SELECT A.ID, [Description], 
		CASE WHEN [level] = 0 THEN 
			'Debug' 
			WHEN [level] = 1 THEN 
			'Information'
			WHEN [level]=2 THEN 
			'Error'
		END [Level],
		CreatedDateTime, [message]
FROM Audit A
INNER JOIN Status S ON S.ID =A.Status
WHERE RequestID = @RequestID
ORDER BY CreatedDateTime DESC]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Audit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Audit].[RequestId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetAuditMessagesByRequest].[@RequestID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetAuditMessagesByRequest].[@RequestID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="715" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetAuditMessagesByRequest]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestID INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetHandlers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	/* Stored Procedure Wei_GetHandlers
		   
		   History:
		   Modified Date		Author		Change
		   
	*/
	
	SELECT ID,[Name],Dll,[Type] FROM Handlers

RETURN 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Handlers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers].[DLL]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers].[Type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="216" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_GetHandlers]&#xD;&#xA;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetInterfaces]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
/* Stored Procedure Wei_GetInterfaces
	   
	   History:
	   Modified Date		Author		Change
	   
*/
	SET NOCOUNT ON
	SELECT	I.ID, I.Name, I.Handler, I.FileFormat,
			I.Driver, I.Config,
			D.Name  DriverName, 
			D.Dll DriverDll, D.Type DriverType, 
			H.Name HandlerName, H.Dll HandlerDll, 
			H.Type HandlerType 
	FROM	Interfaces I 
	INNER	JOIN Handlers H ON I.Handler = H.ID
	INNER	JOIN Drivers D ON I.Driver=D.Id 

	RETURN 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Interfaces]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Handler]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Drivers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Driver]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Drivers].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Handler]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[FileFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Config]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Drivers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Drivers].[DLL]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Drivers].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers].[DLL]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Handlers].[Type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="494" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetInterfaces]&#xD;&#xA;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetLock]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	update Requests set processlock=1, modifieddatetime=GETDATE(), modifiedoper='dbo' where processlock=0 and id=@requestid
RETURN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ProcessLock]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetLock].[@requestid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetLock].[@requestid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="188" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetLock]&#xD;&#xA;&#x9;@requestid int &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetMessages]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[      
    
BEGIN  
 SET NOCOUNT ON    
     
 /*    
  Stored Procedure Name: Wei_GetMessages    
  Author      : Rama Pappu    
  Create Date    : 12/31/2010    
  Description    : The Stored Procedure will return the message information with current status    
  for the current date or between range of dates. The stored procedures accepts the following    
  parameters:    
  @startDate - Message Create Date    
  @EndDate - Message Create Date    
  @Status - Message Status    
  History:    
  Modified Date  Author  Change    
 ===========================================  
  01/09/20111   Rama Pappu Added Interface Name column to the Query to be displayed on user interface    
        Added OFAC Status column values to the Query to be displayed on user interface    
        When ModifiedDateTime column is null, the value will be null. Earlier the     
        CreatedDatetime value was assigned when ModifiedDateTime is null.    
  02/09/2011   Rama Pappu Added a new parameter hasCTC to identify if a message has CTC codes or not    
  02/13/2011   Rama Pappu Added a new parameter IsError to filter messages that have errored out    
     
 */    
  DECLARE @Start  INT  
  DECLARE @FirstRow INT, @LastRow INT        
         
  IF @CurrentPage = 0  
   SET @CurrentPage = 1  
     
  IF @PageSize IS NULL        
   SET @PageSize = 10;  
  
  SET @FirstRow = (@CurrentPage - 1)*@PageSize + 1;        
  SET @LastRow = @FirstRow + @PageSize -1;  
  
  SET @StartDate = @StartDate + ' 00:00:00.000'    
  SET @EndDate = @EndDate + ' 23:59:59.997'    
       
  IF @HasCTC IS NULL   
   SET @HasCTC = 0  
     
     
  IF @IsError IS NULL    
   SET @IsError = 0  
    
  
  IF @Sorting IS NULL        
   SET @Sorting = 'ModifiedDateTime DESC';  
  
  SET @CurrentPage = ABS(@CurrentPage)  
  
  SET @Start = ABS(@PageSize * (@CurrentPage-1))  
    
  CREATE TABLE #Messages
(  
	   RowNumber		INT NOT NULL,  
	   ID				INT,  
	   Name				NVARCHAR(255),  
	   InterfaceName	NVARCHAR(255),  
	   CreatedDateTime  DATETIME,  
	   ModifiedDateTime DATETIME,  
	   OFACStatus		NVARCHAR(255),  
	   Description		NVARCHAR(100),  
	   HasCTC			VARCHAR(10),  
	   IsError			VARCHAR(10),  
	   MessageBody		NVARCHAR(MAX),  
	   TranslatedMessage NVARCHAR(MAX),  
	   ResponseMessage  NVARCHAR(MAX)  
  )  
  
  DECLARE @sql NVARCHAR(MAX)        
           
  INSERT INTO #Messages  
  (  
		RowNumber,  
		ID,  
		Name,  
		InterfaceName,  
		CreatedDateTime,    
		OFACStatus,   
		[Description],   
		HasCTC,  
		IsError,   
		MessageBody,  
		TranslatedMessage,  
		ResponseMessage,  
		ModifiedDateTime  
  
   )  
   SELECT --TOP (@LastRow)  
     ROW_NUMBER() OVER (ORDER BY  @Sorting ),  
     R.ID, R.[name], I.Name InterfaceName, CreatedDateTime,     
     CASE WHEN OFACStatus = 1 THEN     
      'Unprocessed'  
     WHEN OfacStatus = 2 THEN    
      'OK'    
     WHEN OfacStatus = 3 THEN      
      'Confirmed'  
     END OFACStatus,      
     [Description],    
     CASE WHEN HasCTC = 1 THEN 'Yes' ELSE 'No' END HasCTC,  
     CASE WHEN IsError = 1 THEN 'Yes' ELSE 'No' END IsError,    
     MessageBody,TranslatedMessage,ResponseMessage, ModifiedDateTime     
   FROM Requests R      
   INNER JOIN [Status] S ON S.ID = R.[Status]      
   INNER JOIN Interfaces I ON I.ID = R.InterfaceID    
   WHERE CreatedDatetime BETWEEN @StartDate AND  @EndDate   
   AND  ([Status] = @Status OR [Status] IS NULL OR @Status = '')  
   AND  HasCTC = @HasCTC   
   AND  IsError = @IsError    
   AND  (R.MessageBody like '%' + @SearchText + '%' OR   
     R.TranslatedMessage like '%' + @SearchText + '%' OR   
     R.ResponseMessage like '%' + @SearchText + '%')   
  
   SET ROWCOUNT @PageSize  
   
   SELECT @TotalRecords = COUNT(*) FROM #Messages  
  
   SELECT ID,Name, InterfaceName,CreatedDateTime,   
     OFACStatus, [Description],IsError,HasCTC,MessageBody,  
     TranslatedMessage,ResponseMessage,ModifiedDateTime  
   FROM #Messages  
   WHERE RowNumber >= @FirstRow        
   ORDER BY RowNumber;  

	--SELECT @TotalRecords
  
 SET ROWCOUNT 0  
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@CurrentPage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@Sorting]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[RowNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[InterfaceName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[#Messages].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[InterfaceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@SearchText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages].[@TotalRecords]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[Wei_GetMessages].[#Messages]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[RowNumber]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[ID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[InterfaceName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[CreatedDateTime]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[ModifiedDateTime]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[OFACStatus]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[Description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[HasCTC]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[IsError]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[MessageBody]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[TranslatedMessage]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages].[#Messages].[ResponseMessage]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@HasCTC]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@IsError]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@SearchText]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@Sorting]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@CurrentPage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4558" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetMessages]      &#xD;&#xA;(      &#xD;&#xA;&#x9; @StartDate&#x9;&#x9;DATETIME,      &#xD;&#xA;&#x9; @EndDate&#x9;&#x9;DATETIME,      &#xD;&#xA;&#x9; @Status&#x9;&#x9;INT,    &#xD;&#xA;&#x9; @HasCTC&#x9;&#x9;BIT,    &#xD;&#xA;&#x9; @IsError&#x9;&#x9;BIT,  &#xD;&#xA;&#x9; @SearchText&#x9;NVARCHAR(4000),  &#xD;&#xA;&#x9; @Sorting&#x9;&#x9;NVARCHAR(1000)=NULL,        &#xD;&#xA;&#x9; @CurrentPage&#x9;INT,  &#xD;&#xA;&#x9; @PageSize&#x9;&#x9;INT,  &#xD;&#xA;&#x9; @TotalRecords  INT OUTPUT  &#xD;&#xA;)      &#xD;&#xA;      &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetMessages1]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[    
  
BEGIN
	SET NOCOUNT ON  
	  
	/*  
	 Stored Procedure Name: Wei_GetMessages  
	 Author				  :	Rama Pappu  
	 Create Date		  : 12/31/2010  
	 Description		  : The Stored Procedure will return the message information with current status  
	 for the current date or between range of dates. The stored procedures accepts the following  
	 parameters:  
	 @startDate - Message Create Date  
	 @EndDate - Message Create Date  
	 @Status - Message Status  
	 History:  
	 Modified Date  Author		Change  
	===========================================
	 01/09/20111   Rama Pappu	Added Interface Name column to the Query to be displayed on user interface  
								Added OFAC Status column values to the Query to be displayed on user interface  
								When ModifiedDateTime column is null, the value will be null. Earlier the   
								CreatedDatetime value was assigned when ModifiedDateTime is null.  
	 02/09/2011   Rama Pappu	Added a new parameter hasCTC to identify if a message has CTC codes or not  
	 02/13/2011   Rama Pappu	Added a new parameter IsError to filter messages that have errored out  
	  
	*/  
		DECLARE @Start  INT
		DECLARE @FirstRow INT, @LastRow INT      
	      
		IF @CurrentPage = 0
			SET @CurrentPage = 1
	  
		IF @PageSize IS NULL      
			SET @PageSize = 10;

		SET @FirstRow = (@CurrentPage - 1)*@PageSize + 1;      
		SET @LastRow = @FirstRow + @PageSize -1;

		SET @StartDate = @StartDate   
		SET @EndDate = @EndDate + ' 23:59:59.997'  
	    
		IF @HasCTC IS NULL 
			SET @HasCTC = 0
		 
	  
		IF @IsError IS NULL  
			SET @IsError = 0
		

		IF @Sorting IS NULL      
			SET @Sorting = 'ModifiedDateTime DESC';

		SET @CurrentPage = ABS(@CurrentPage)

		SET @Start = ABS(@PageSize * (@CurrentPage-1))
		
		CREATE TABLE #Messages(
			RowNumber			INT NOT NULL,
			ID					INT,
			Name				NVARCHAR(255),
			InterfaceName		NVARCHAR(255),
			CreatedDateTime		DATETIME,
			ModifiedDateTime	DATETIME,
			OFACStatus			NVARCHAR(255),
			Description			NVARCHAR(100),
			HasCTC				VARCHAR(10),
			IsError				VARCHAR(10),
			MessageBody			NVARCHAR(MAX),
			TranslatedMessage	NVARCHAR(MAX),
			ResponseMessage		NVARCHAR(MAX)
		)

		DECLARE @sql NVARCHAR(MAX)      
	        
		INSERT INTO #Messages
		(
				RowNumber,
				ID,
				Name,
				InterfaceName,
				CreatedDateTime,		
				OFACStatus,	
				[Description],	
				HasCTC,
				IsError,	
				MessageBody,
				TranslatedMessage,
				ResponseMessage,
				ModifiedDateTime

			)
			SELECT	TOP (@LastRow)
					ROW_NUMBER() OVER (ORDER BY  @Sorting ),
					R.ID, R.[name], I.Name InterfaceName, CreatedDateTime,   
					CASE WHEN OFACStatus = 1 THEN   
						'Unprocessed'
					WHEN OfacStatus = 2 THEN  
						'OK'  
					WHEN OfacStatus = 3 THEN    
						'Confirmed'
					END OFACStatus,    
					[Description],  
					CASE WHEN HasCTC = 1 THEN 'Yes' ELSE 'No' END HasCTC,
					CASE WHEN IsError = 1 THEN 'Yes' ELSE 'No' END IsError,  
					MessageBody,TranslatedMessage,ResponseMessage, ModifiedDateTime   
			FROM	Requests R    
			INNER	JOIN [Status] S ON S.ID = R.[Status]    
			INNER	JOIN Interfaces I ON I.ID = R.InterfaceID  
			WHERE	CreatedDatetime BETWEEN @StartDate AND  @EndDate 
			AND		([Status] = @Status OR [Status] IS NULL OR @Status = '')
			AND		HasCTC = @HasCTC 
			AND		IsError = @IsError  
			AND		(R.MessageBody like '%' + @SearchText + '%' OR 
					R.TranslatedMessage like '%' + @SearchText + '%' OR 
					R.ResponseMessage like '%' + @SearchText + '%') 

			SET ROWCOUNT @PageSize
	
			SELECT @TotalRecords = COUNT(*) FROM #Messages

			SELECT	ID,Name, InterfaceName,CreatedDateTime,	
					OFACStatus,	[Description],IsError,MessageBody,
					TranslatedMessage,ResponseMessage,ModifiedDateTime
			FROM	#Messages
			WHERE	RowNumber >= @FirstRow      
			ORDER	BY RowNumber;

	SET ROWCOUNT 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@CurrentPage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@Sorting]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[RowNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[InterfaceName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[#Messages].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[InterfaceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@SearchText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessages1].[@TotalRecords]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[Wei_GetMessages1].[#Messages]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[RowNumber]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[ID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[InterfaceName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[CreatedDateTime]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[ModifiedDateTime]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[OFACStatus]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[Description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[HasCTC]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[IsError]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[MessageBody]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[TranslatedMessage]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessages1].[#Messages].[ResponseMessage]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@HasCTC]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@IsError]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@SearchText]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@Sorting]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@CurrentPage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessages1].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="93" />
				<Property Name="Length" Value="4333" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- Wei_GetMessages1 '06/03/2011', '12/30/2011', '',1,0,'','ModifiedDateTime Desc',1,20,''&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_GetMessages1]    &#xD;&#xA;(    &#xD;&#xA; @StartDate&#x9;&#x9;&#x9;DATETIME,    &#xD;&#xA; @EndDate&#x9;&#x9;&#x9;DATETIME,    &#xD;&#xA; @Status&#x9;&#x9;&#x9;INT,  &#xD;&#xA; @HasCTC&#x9;&#x9;&#x9;BIT,  &#xD;&#xA; @IsError&#x9;&#x9;&#x9;BIT,&#xD;&#xA; @SearchText&#x9;&#x9;NVARCHAR(4000),&#xD;&#xA; @Sorting&#x9;&#x9;&#x9;NVARCHAR(1000)=NULL,      &#xD;&#xA; @CurrentPage&#x9;&#x9;INT,&#xD;&#xA; @PageSize&#x9;&#x9;&#x9;INT,&#xD;&#xA; @TotalRecords&#x9;&#x9;INT OUTPUT&#xD;&#xA;)    &#xD;&#xA;    &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetMessageStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[

SELECT ID, [Description]
FROM Status
WHERE ShowStatus = 1]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[ShowStatus]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="112" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetMessageStatus]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetMessagesVSS]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[    
  
BEGIN
	SET NOCOUNT ON  
	  
	/*  
	 Stored Procedure Name: Wei_GetMessages  
	 Author				  :	Rama Pappu  
	 Create Date		  : 12/31/2010  
	 Description		  : The Stored Procedure will return the message information with current status  
	 for the current date or between range of dates. The stored procedures accepts the following  
	 parameters:  
	 @startDate - Message Create Date  
	 @EndDate - Message Create Date  
	 @Status - Message Status  
	 History:  
	 Modified Date  Author		Change  
	===========================================
	 01/09/20111   Rama Pappu	Added Interface Name column to the Query to be displayed on user interface  
								Added OFAC Status column values to the Query to be displayed on user interface  
								When ModifiedDateTime column is null, the value will be null. Earlier the   
								CreatedDatetime value was assigned when ModifiedDateTime is null.  
	 02/09/2011   Rama Pappu	Added a new parameter hasCTC to identify if a message has CTC codes or not  
	 02/13/2011   Rama Pappu	Added a new parameter IsError to filter messages that have errored out  
	  
	*/  
		DECLARE @Start  INT
		DECLARE @FirstRow INT, @LastRow INT      
	      
		IF @CurrentPage = 0
			SET @CurrentPage = 1
	  
		IF @PageSize IS NULL      
			SET @PageSize = 10;

		SET @FirstRow = (@CurrentPage - 1)*@PageSize + 1;      
		SET @LastRow = @FirstRow + @PageSize -1;

		SET @StartDate = @StartDate   
		SET @EndDate = @EndDate + ' 23:59:59.997'  
	    
		IF @HasCTC IS NULL 
			SET @HasCTC = 0
		 
	  
		IF @IsError IS NULL  
			SET @IsError = 0
		

		IF @Sorting IS NULL      
			SET @Sorting = 'ModifiedDateTime DESC';

		SET @CurrentPage = ABS(@CurrentPage)

		SET @Start = ABS(@PageSize * (@CurrentPage-1))
		
		CREATE TABLE #Messages(
			RowNumber			INT NOT NULL,
			ID					INT,
			Name				NVARCHAR(255),
			InterfaceName		NVARCHAR(255),
			CreatedDateTime		DATETIME,
			ModifiedDateTime	DATETIME,
			OFACStatus			NVARCHAR(255),
			Description			NVARCHAR(100),
			HasCTC				VARCHAR(10),
			IsError				VARCHAR(10),
			MessageBody			NVARCHAR(MAX),
			TranslatedMessage	NVARCHAR(MAX),
			ResponseMessage		NVARCHAR(MAX)
		)

		DECLARE @sql NVARCHAR(MAX)      
	        
		INSERT INTO #Messages
		(
				RowNumber,
				ID,
				Name,
				InterfaceName,
				CreatedDateTime,		
				OFACStatus,	
				[Description],	
				HasCTC,
				IsError,	
				MessageBody,
				TranslatedMessage,
				ResponseMessage,
				ModifiedDateTime

			)
			SELECT	
					ROW_NUMBER() OVER (ORDER BY  @Sorting ),
					R.ID, R.[name], I.Name InterfaceName, CreatedDateTime,   
					CASE WHEN OFACStatus = 1 THEN   
						'Unprocessed'
					WHEN OfacStatus = 2 THEN  
						'OK'  
					WHEN OfacStatus = 3 THEN    
						'Confirmed'
					END OFACStatus,    
					[Description],  
					CASE WHEN HasCTC = 1 THEN 'Yes' ELSE 'No' END HasCTC,
					CASE WHEN IsError = 1 THEN 'Yes' ELSE 'No' END IsError,  
					MessageBody,TranslatedMessage,ResponseMessage, ModifiedDateTime   
			FROM	Requests R    
			INNER	JOIN [Status] S ON S.ID = R.[Status]    
			INNER	JOIN Interfaces I ON I.ID = R.InterfaceID  
			WHERE	CreatedDatetime BETWEEN @StartDate AND  @EndDate 
			AND		([Status] = @Status OR [Status] IS NULL OR @Status = '')
			AND		HasCTC = @HasCTC 
			AND		IsError = @IsError  
			AND		(R.MessageBody like '%' + @SearchText + '%' OR 
					R.TranslatedMessage like '%' + @SearchText + '%' OR 
					R.ResponseMessage like '%' + @SearchText + '%') 

			SET ROWCOUNT @PageSize
	
			SELECT @TotalRecords = COUNT(*) FROM #Messages

			SELECT	ID,Name, InterfaceName,CreatedDateTime,	
					OFACStatus,	[Description],IsError,MessageBody,
					TranslatedMessage,ResponseMessage,ModifiedDateTime
			FROM	#Messages
			WHERE	RowNumber >= @FirstRow AND RowNumber < @LastRow
			ORDER	BY RowNumber;

	SET ROWCOUNT 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@CurrentPage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@Sorting]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[RowNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[InterfaceName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[InterfaceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Interfaces].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Status].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@SearchText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetMessagesVSS].[@TotalRecords]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[Wei_GetMessagesVSS].[#Messages]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[RowNumber]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[ID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[InterfaceName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[CreatedDateTime]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[ModifiedDateTime]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[OFACStatus]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[Description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[HasCTC]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[IsError]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="10" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[MessageBody]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[TranslatedMessage]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISqlSimpleColumn" Name="[dbo].[Wei_GetMessagesVSS].[#Messages].[ResponseMessage]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@HasCTC]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@IsError]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@SearchText]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@Sorting]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@CurrentPage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetMessagesVSS].[@TotalRecords]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4247" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetMessagesVSS]    &#xD;&#xA;(    &#xD;&#xA; @StartDate&#x9;&#x9;&#x9;DATETIME,    &#xD;&#xA; @EndDate&#x9;&#x9;&#x9;DATETIME,    &#xD;&#xA; @Status&#x9;&#x9;&#x9;INT,  &#xD;&#xA; @HasCTC&#x9;&#x9;&#x9;BIT,  &#xD;&#xA; @IsError&#x9;&#x9;&#x9;BIT,&#xD;&#xA; @SearchText&#x9;&#x9;NVARCHAR(4000),&#xD;&#xA; @Sorting&#x9;&#x9;&#x9;NVARCHAR(1000)=NULL,      &#xD;&#xA; @CurrentPage&#x9;&#x9;INT,&#xD;&#xA; @PageSize&#x9;&#x9;&#x9;INT,&#xD;&#xA; @TotalRecords&#x9;&#x9;INT OUTPUT&#xD;&#xA;)    &#xD;&#xA;    &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetOptions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	/* Stored Procedure Wei_GetOptions
		
		History:
		Modified Date		Author		Change
	   
*/
	SET NOCOUNT ON
	BEGIN TRY  
		 SELECT Code, Enabled, Description  
		 FROM Options  
  END TRY  
    
  BEGIN CATCH    
    -- Raise an error with the details of the exception  
    DECLARE @ErrMsg NVARCHAR(4000), @ErrSeverity INT  
    SELECT @ErrMsg = ERROR_MESSAGE(),  
         @ErrSeverity = ERROR_SEVERITY()  
  
    RAISERROR(@ErrMsg, @ErrSeverity, 1)  
  END CATCH  
	RETURN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Options]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Options].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Options].[Enabled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Options].[Description]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="534" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.Wei_GetOptions&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetRequest]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT * from Requests where id = @requestid]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetRequest].[@requestid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetRequest].[@requestid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="107" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetRequest]&#xD;&#xA;&#x9;@requestid int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetRequestWithError]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[  
BEGIN
SET NOCOUNT ON  
  
/*  
 Procedure Name	:	Wei_GetRequestWithError  
 Author			:	Rama Pappu  
 Create Date	:	4/15/2012  
 Description	: The Stored Procedure will return all the error messages information for a given interface. 
				  The stored procedures accepts the following  
 Parameters:  
 @InterfaceId - InterfaceId  
 History		:  
 Modified Date  Author  Change  
  
*/  

 SELECT  ID,InterfaceID, [Name],[Status], 
		OFACStatus,	
		 --CASE WHEN HasCTC = 1 THEN 'Yes' ELSE 'No' END 'HasCTC',
		 HasCTC,IsError, 
		 CreatedDatetime ,ModifiedDatetime, RequestHeaders, 
		 MessageBody, ResponseMessage, TranslatedMessage
 FROM	 Requests 
 WHERE   InterfaceId = @InterfaceId  
 AND	 IsError=1   
END;]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[InterfaceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[OFACStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[HasCTC]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[CreatedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[RequestHeaders]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ResponseMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[TranslatedMessage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[InterfaceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetRequestWithError].[@InterfaceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetRequestWithError].[@InterfaceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="110" />
				<Property Name="Length" Value="930" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/****** Object:  StoredProcedure [dbo].[Wei_GetRequestWithError]    Script Date: 06/03/2012 05:55:19 ******/&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_GetRequestWithError]  &#xD;&#xA;(&#xD;&#xA;&#x9;@InterfaceId INT  &#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetStatusByRequestId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[

	SET NOCOUNT ON
	DECLARE @Status INT

	SELECT @Status = [Status] FROM Requests WHERE Id = @RequestId
	SELECT @Status]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetStatusByRequestId].[@RequestId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetStatusByRequestId].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="200" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetStatusByRequestId]&#xD;&#xA;(&#xD;&#xA;&#x9;@RequestId&#x9;INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[WEI_GetTranslationByCTCCode]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	/* Stored Procedure Wei_GetTranslatioByCTCCode
		
		This stored procedure returns the english translation based on CTC Codes.
		Based on the Review and Approve flag, get the CTC codes from NewTrans column
		or else get the value from OldTrans column.
		@CTCCode		-- Chinese Telegraphic Code
		
		History:
	   Modified Date		Author		Change
	   
*/

	SET NOCOUNT ON 

	SELECT	OldTrans, NewTrans,ChineseChar --CASE WHEN (Reviewed = 1 AND Approved = 1) THEN
--				NewTrans 
--			ELSE 
--				OldTrans
--			END NewTrans
			FROM Translations WHERE CTCCode = @CTCCode
	RETURN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Translations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[OldTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[NewTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ChineseChar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[CTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_GetTranslationByCTCCode].[@CTCCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_GetTranslationByCTCCode].[@CTCCode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="680" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[WEI_GetTranslationByCTCCode]&#xD;&#xA;(&#xD;&#xA;&#x9;@CTCCode&#x9;NVARCHAR(2000)&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_GetTranslations]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	SET NOCOUNT ON;
	
	SELECT	ID,
			CTCCode,
			ChineseChar,
			OldTrans,
			CASE WHEN NewTrans IS NULL THEN OldTrans ELSE NewTrans END
			NewTrans,	
			Reviewed,
			ReviewOper,
			Approved,
			ApprovedOper
	FROM Translations T
	WHERE EXISTS (SELECT * FROM Requests R WHERE CHARINDEX(T.CTCCode, R.MessageBody ) > 0 AND R.ID = @RequestsID)
	

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Translations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[CTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ChineseChar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[OldTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[NewTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[Reviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ReviewOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[Approved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ApprovedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[CTCCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[MessageBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_GetTranslations].[@RequestsID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_GetTranslations].[@RequestsID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="437" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_GetTranslations](@RequestsID INT)&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_MarkRequestError]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[

	/* Stored Procedure Wei_MarkRequestError
		
	   @RequestId		-- 
	   
		History:
	   Modified Date		Author		Change
	   
	  */

	DECLARE	@Err		INT,
			@TableName	SYSNAME,
			@ErrorMsg	NVARCHAR(2000)
			
	--- ********************* Begin Rule Procedure **********************************
	SET NOCOUNT ON
	

	BEGIN TRY
		BEGIN TRANSACTION Wei_MarkRequestError
	
		SELECT @ErrorMsg = 'Update to IsError Column on Requests table failed', @TableName = 'Requests'

		UPDATE	Requests
		SET		IsError = 1
		WHERE	Id = @RequestId

		COMMIT TRANSACTION Wei_MarkRequestError

	END TRY

	BEGIN CATCH
		ROLLBACK TRANSACTION Wei_MarkRequestError
		RAISERROR (@ErrorMsg,16,1)
		
	END CATCH
	--RETURN @@IDENTITY	]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[IsError]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_MarkRequestError].[@RequestId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_MarkRequestError].[@RequestId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="801" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_MarkRequestError]&#xD;&#xA;&#x9;@RequestId&#x9;&#x9;INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_ReleaseLock]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	update Requests set processlock=0,modifieddatetime=GETDATE(), modifiedoper='dbo' where processlock=1 and id=@requestid

RETURN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Requests]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ProcessLock]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[ModifiedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Requests].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_ReleaseLock].[@requestid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_ReleaseLock].[@requestid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="193" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[Wei_ReleaseLock]&#xD;&#xA;&#x9;@requestid int &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[WEI_UpdateTranslations]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[

/* Stored Procedure WEI_UpdateTranslations
	This Stored Procedure does the following:
	1. Checks if there is already a translation record for a given CTC.
	2. Update the translation record if the reviewer changes the english translation
	3. Update the translation record if the approver either approves the translation 
	and makes the change

	   
	   @CTCCode			NVARCHAR(2000),
	   @ChineseChar		NVARCHAR(2000),
	   @PinYin			NVARCHAR(2000),
	   @EnglishTrans	VARCHAR(5000),
	   @LastModify		DATETIME,
	   @LastOper
	   
		History:
	   Modified Date		Author		Change
	   
	  */

	DECLARE	@Err			INT,
			@TableName		SYSNAME,
			@ErrorMsg		NVARCHAR(2000),
			@OldTrans		VARCHAR(5000),
			@OldPinYin		NVARCHAR(2000),
			@NewPinYin		NVARCHAR(2000),
			@OldReviewed	BIT,
			@OldReviewOper	NVARCHAR(50),
			@OldReviewDate	DATETIME,
			@OldApproved	BIT,
			@OldAppOper		NVARCHAR(50),
			@OldAppDate		DATETIME,
			@Message		VARCHAR(5000),
			@Stat			INT
			
	--- ********************* Begin Rule Procedure **********************************
	
	

	BEGIN TRY
		BEGIN TRANSACTION WEI_UpdateTranslations
	
		SELECT @ErrorMsg = 'Update of Translations table failed: ', @TableName = 'Translations'

		--IF EXISTS (SELECT * FROM Translations WHERE CTCCode = @CTCCode)

		BEGIN
			IF (@ReviewMode = 'Review')
			BEGIN
				SELECT	@OldTrans = OldTrans, 
						@OldReviewed = Reviewed, @OldReviewOper = ReviewOper, @OldReviewDate = ReviewDate
				FROM	Translations WHERE ID = @Id

				-- Insert into Audit Table, old and new values
				SET @Message = 'Old Translation : ' + ISNULL(@OldTrans, '') 
				+  ' ; ' + 'New Translation : ' + ISNULL(@NewTrans,'')
				SET @Message = @Message + CHAR(13)
				SET @Message = @Message +
				' Reviewed By - Old Value: ' + @OldReviewOper + ' ; ' 
				+ 'Reviewed By - New Value: ' + @ReviewOper 
				SET @Message = @Message + CHAR(13)
				SET @Message = @Message +
				' Reviewed Date: ' + CONVERT(VARCHAR, GETDATE()) 
				SET @Message = @Message + CHAR(13)
				SET @Message = @Message +
				' Reviewed - Old Value: ' + CONVERT(VARCHAR,@OldReviewed) + ' ; ' 
				+ 'Reviewed - New Value: ' + CONVERT(VARCHAR,@Reviewed)

			END
			ELSE
			BEGIN
				SELECT	@OldTrans = OldTrans, 
						@OldReviewed = Reviewed, @OldReviewOper = ReviewOper, 
						@OldReviewDate = ReviewDate,
						@OldApproved	= Approved, @OldAppOper = ApprovedOper, 
						@OldAppDate = ApprovedDate
				FROM	Translations WHERE ID = @ID

				-- Insert into Audit Table, old and new values
				SET @Message = 'Old Translation : ' + ISNULL(@OldTrans, '') 
				+  ' ; ' + 'New Translation : ' + ISNULL(@NewTrans,'') 
				SET @Message = @Message + CHAR(13) 
				SET @Message = @Message + 
				' Reviewed By - Old Value: ' + @OldReviewOper + ' ; ' 
				+ 'Reviewed By - New Value: ' + @ReviewOper 
				SET @Message = @Message + CHAR(13) 
				SET @Message = @Message + 
				 ' Reviewed Date: ' + CONVERT(VARCHAR, GETDATE()) 
				SET @Message = @Message + CHAR(13) 
				SET @Message = @Message +  ' Reviewed - Old Value: ' + CONVERT(VARCHAR,@OldReviewed) + ' ; ' 
				+ 'Reviewed - New Value: ' + CONVERT(VARCHAR,@Reviewed) 
				SET @Message = @Message + CHAR(13) 
				+ ' Approved By - Old Value: ' + @OldAppOper + ' ; ' 
				+ 'Approved By - New Value: ' + @ApproveOper 
				SET @Message = @Message + CHAR(13)  
				+ ' Approved Date: ' + CONVERT(VARCHAR, GETDATE()) 
				SET @Message = @Message + CHAR(13)  
				+ ' Approved - Old Value: ' + CONVERT(VARCHAR,@OldApproved) + ' ; ' 
				+ 'Approved - New Value: ' + CONVERT(VARCHAR,@Approved)
			END
			SELECT @Message
			UPDATE	Translations 
				SET		OldTrans = CASE WHEN ISNULL(NewTrans, '') = '' THEN 
										OldTrans 
									ELSE 
									CASE WHEN NewTrans = OldTrans THEN OldTrans
									ELSE NewTrans END
						END,
						NewTrans = @NewTrans,
						Reviewed = @Reviewed,
						ReviewOper = @ReviewOper,
						ReviewDate = GETDATE(),
						Approved = @Approved,
						ApprovedOper = @ApproveOper,
						ApprovedDate = GETDATE()
				FROM	Translations
				WHERE	ID = @ID 

				SELECT @@ERROR

				IF @@ERROR = 0
					EXEC Wei_AddAudit @RequestID, 1, @Message, @ReviewOper
			
		END
		
		COMMIT TRANSACTION WEI_UpdateTranslations
		SELECT @ErrorMsg = ERROR_MESSAGE()
		--SELECT @@IDENTITY	
	END TRY
	BEGIN CATCH
		ROLLBACK TRANSACTION WEI_UpdateTranslations
		RAISERROR (@ErrorMsg,16,1)
		
	END CATCH]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@ReviewMode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[OldTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[Reviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ReviewOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ReviewDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@NewTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@ReviewOper]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@Reviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[Approved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ApprovedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ApprovedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@ID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@ApproveOper]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@Approved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[NewTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_AddAudit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WEI_UpdateTranslations].[@RequestID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_UpdateTranslations].[@ID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_UpdateTranslations].[@RequestID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_UpdateTranslations].[@NewTrans]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="5000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_UpdateTranslations].[@ReviewMode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_UpdateTranslations].[@ReviewOper]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_UpdateTranslations].[@Reviewed]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[FALSE]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_UpdateTranslations].[@ApproveOper]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[WEI_UpdateTranslations].[@Approved]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[FALSE]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="4743" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[WEI_UpdateTranslations]&#xD;&#xA;(&#xD;&#xA;&#x9;@ID&#x9;&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@RequestID&#x9;&#x9;INT,&#xD;&#xA;&#x9;@NewTrans&#x9;&#x9;VARCHAR(5000),&#xD;&#xA;&#x9;@ReviewMode&#x9;&#x9;VARCHAR(20),&#xD;&#xA;&#x9;@ReviewOper&#x9;&#x9;NVARCHAR(50),&#xD;&#xA;&#x9;@Reviewed&#x9;&#x9;BIT  = FALSE,&#x9;&#xD;&#xA;&#x9;@ApproveOper&#x9;NVARCHAR(50),&#xD;&#xA;&#x9;@Approved&#x9;&#x9;BIT = FALSE&#xD;&#xA;&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90Procedure" Name="[dbo].[Wei_UpdateTranslations1]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	SET NOCOUNT ON;
	
	BEGIN TRY
	
		BEGIN TRANSACTION WEI_UpdateTranslations1
		
		IF (@ReviewMode = 'Review')
		BEGIN
			-- Review
			UPDATE Translations 
				SET NewTrans = @NewTrans,
					Reviewed = @Reviewed,
					ReviewOper = @OperatorName,
					ReviewDate = GETDATE()
			WHERE ID = @ID
		END
		ELSE 
		BEGIN
			-- Approve
			UPDATE Translations 
				SET NewTrans = @NewTrans,
					Approved = @Approved,
					ApprovedOper = @OperatorName,
					ApprovedDate = GETDATE(),
					Reviewed = @Reviewed,
					ReviewDate = (case when Reviewed=0 then GETDATE() end)
			WHERE ID = @ID
		END
		
		COMMIT TRANSACTION WEI_UpdateTranslations1
	
	END TRY	
	BEGIN CATCH
		ROLLBACK TRANSACTION WEI_UpdateTranslations1	
	END CATCH
	
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Wei_UpdateTranslations1].[@ReviewMode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[NewTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_UpdateTranslations1].[@NewTrans]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[Reviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_UpdateTranslations1].[@Reviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ReviewOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_UpdateTranslations1].[@OperatorName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ReviewDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_UpdateTranslations1].[@ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[Approved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Wei_UpdateTranslations1].[@Approved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ApprovedOper]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Translations].[ApprovedDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_UpdateTranslations1].[@ID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_UpdateTranslations1].[@NewTrans]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="5000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_UpdateTranslations1].[@Reviewed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_UpdateTranslations1].[@Approved]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_UpdateTranslations1].[@OperatorName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlSubroutineParameter" Name="[dbo].[Wei_UpdateTranslations1].[@ReviewMode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="191" />
				<Property Name="Length" Value="1143" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Author&#x9;&#x9;: Muthukrishnan Somasundaram&#xD;&#xA;Created On&#x9;: December 10, 2012&#xD;&#xA;Project&#x9;&#x9;: IQ reseller&#xD;&#xA;Company&#x9;&#x9;: Viswambara Software Systems&#xD;&#xA;Version&#x9;&#x9;: 1.0.0&#xD;&#xA;Database&#x9;: MS SQL Server 2008&#xD;&#xA;*/&#xD;&#xA;CREATE PROCEDURE [dbo].[Wei_UpdateTranslations1] &#xD;&#xA;(&#xD;&#xA;@ID INT,&#xD;&#xA;@NewTrans VARCHAR(5000),&#xD;&#xA;@Reviewed BIT,&#xD;&#xA;@Approved BIT,&#xD;&#xA;@OperatorName NVARCHAR(50),&#xD;&#xA;@ReviewMode VARCHAR(20)&#xD;&#xA;)&#xD;&#xA;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90File" Name="[WEI]">
			<Property Name="FileName" Value="$(DefaultDataPath)$(DatabaseName).mdf" />
			<Property Name="FileGrowth" Value="1024" />
			<Property Name="FileGrowthUnit" Value="3" />
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90File" Name="[WEI_log]">
			<Property Name="FileName" Value="$(DefaultLogPath)$(DatabaseName)_log.ldf" />
			<Property Name="MaxSize" Value="2097152" />
			<Property Name="IsUnlimited" Value="False" />
			<Property Name="FileGrowth" Value="10" />
			<Property Name="FileGrowthUnit" Value="1" />
			<Property Name="IsLogFile" Value="True" />
		</Element>
	</Model>
</DataSchemaModel>